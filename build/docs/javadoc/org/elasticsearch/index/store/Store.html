<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_40) on Thu Mar 31 00:57:32 PDT 2016 -->
<title>Store (core 3.0.0-SNAPSHOT API)</title>
<meta name="date" content="2016-03-31">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Store (core 3.0.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":10,"i3":9,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":9,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":9,"i17":9,"i18":10,"i19":10,"i20":10,"i21":10,"i22":9,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":9,"i30":9,"i31":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/elasticsearch/index/store/IndexStoreConfig.html" title="class in org.elasticsearch.index.store"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/elasticsearch/index/store/Store.LegacyChecksums.html" title="class in org.elasticsearch.index.store"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/elasticsearch/index/store/Store.html" target="_top">Frames</a></li>
<li><a href="Store.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.elasticsearch.index.store</div>
<h2 title="Class Store" class="title">Class Store</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/elasticsearch/index/shard/AbstractIndexShardComponent.html" title="class in org.elasticsearch.index.shard">org.elasticsearch.index.shard.AbstractIndexShardComponent</a></li>
<li>
<ul class="inheritance">
<li>org.elasticsearch.index.store.Store</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Closeable, java.lang.AutoCloseable, <a href="../../../../org/elasticsearch/common/util/concurrent/RefCounted.html" title="interface in org.elasticsearch.common.util.concurrent">RefCounted</a>, <a href="../../../../org/elasticsearch/index/shard/IndexShardComponent.html" title="interface in org.elasticsearch.index.shard">IndexShardComponent</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">Store</span>
extends <a href="../../../../org/elasticsearch/index/shard/AbstractIndexShardComponent.html" title="class in org.elasticsearch.index.shard">AbstractIndexShardComponent</a>
implements java.io.Closeable, <a href="../../../../org/elasticsearch/common/util/concurrent/RefCounted.html" title="interface in org.elasticsearch.common.util.concurrent">RefCounted</a></pre>
<div class="block">A Store provides plain access to files written by an elasticsearch index shard. Each shard
 has a dedicated store that is uses to access Lucene's Directory which represents the lowest level
 of file abstraction in Lucene used to read and write Lucene indices.
 This class also provides access to metadata information like checksums for committed files. A committed
 file is a file that belongs to a segment written by a Lucene commit. Files that have not been committed
 ie. created during a merge or a shard refresh / NRT reopen are not considered in the MetadataSnapshot.
 <p>
 Note: If you use a store it's reference count should be increased before using it by calling #incRef and a
 corresponding #decRef must be called in a try/finally block to release the store again ie.:
 <pre>
      store.incRef();
      try {
        // use the store...

      } finally {
          store.decRef();
      }
 </pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.LegacyChecksums.html" title="class in org.elasticsearch.index.store">Store.LegacyChecksums</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.MetadataSnapshot.html" title="class in org.elasticsearch.index.store">Store.MetadataSnapshot</a></span></code>
<div class="block">Represents a snapshot of the current directory build from the latest Lucene commit.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.OnClose.html" title="interface in org.elasticsearch.index.store">Store.OnClose</a></span></code>
<div class="block">A listener that is executed once the store is closed and all references to it are released</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.RecoveryDiff.html" title="class in org.elasticsearch.index.store">Store.RecoveryDiff</a></span></code>
<div class="block">A class representing the diff between a recovery source and recovery target</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#CHECKSUMS_PREFIX">CHECKSUMS_PREFIX</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#INDEX_STORE_STATS_REFRESH_INTERVAL">INDEX_STORE_STATS_REFRESH_INTERVAL</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.elasticsearch.index.shard.AbstractIndexShardComponent">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.elasticsearch.index.shard.<a href="../../../../org/elasticsearch/index/shard/AbstractIndexShardComponent.html" title="class in org.elasticsearch.index.shard">AbstractIndexShardComponent</a></h3>
<code><a href="../../../../org/elasticsearch/index/shard/AbstractIndexShardComponent.html#deprecationLogger">deprecationLogger</a>, <a href="../../../../org/elasticsearch/index/shard/AbstractIndexShardComponent.html#indexSettings">indexSettings</a>, <a href="../../../../org/elasticsearch/index/shard/AbstractIndexShardComponent.html#logger">logger</a>, <a href="../../../../org/elasticsearch/index/shard/AbstractIndexShardComponent.html#shardId">shardId</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#Store-org.elasticsearch.index.shard.ShardId-org.elasticsearch.index.IndexSettings-org.elasticsearch.index.store.DirectoryService-org.elasticsearch.env.ShardLock-">Store</a></span>(<a href="../../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId,
     <a href="../../../../org/elasticsearch/index/IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings,
     <a href="../../../../org/elasticsearch/index/store/DirectoryService.html" title="class in org.elasticsearch.index.store">DirectoryService</a>&nbsp;directoryService,
     <a href="../../../../org/elasticsearch/env/ShardLock.html" title="class in org.elasticsearch.env">ShardLock</a>&nbsp;shardLock)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#Store-org.elasticsearch.index.shard.ShardId-org.elasticsearch.index.IndexSettings-org.elasticsearch.index.store.DirectoryService-org.elasticsearch.env.ShardLock-org.elasticsearch.index.store.Store.OnClose-">Store</a></span>(<a href="../../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId,
     <a href="../../../../org/elasticsearch/index/IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings,
     <a href="../../../../org/elasticsearch/index/store/DirectoryService.html" title="class in org.elasticsearch.index.store">DirectoryService</a>&nbsp;directoryService,
     <a href="../../../../org/elasticsearch/env/ShardLock.html" title="class in org.elasticsearch.env">ShardLock</a>&nbsp;shardLock,
     <a href="../../../../org/elasticsearch/index/store/Store.OnClose.html" title="interface in org.elasticsearch.index.store">Store.OnClose</a>&nbsp;onClose)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#canOpenIndex-org.elasticsearch.common.logging.ESLogger-java.nio.file.Path-">canOpenIndex</a></span>(<a href="../../../../org/elasticsearch/common/logging/ESLogger.html" title="interface in org.elasticsearch.common.logging">ESLogger</a>&nbsp;logger,
            java.nio.file.Path&nbsp;indexLocation)</code>
<div class="block">Returns <code>true</code> iff the given location contains an index an the index
 can be successfully opened.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#checkIntegrity-org.elasticsearch.index.store.StoreFileMetaData-org.apache.lucene.store.Directory-">checkIntegrity</a></span>(<a href="../../../../org/elasticsearch/index/store/StoreFileMetaData.html" title="class in org.elasticsearch.index.store">StoreFileMetaData</a>&nbsp;md,
              org.apache.lucene.store.Directory&nbsp;directory)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#checkIntegrityNoException-org.elasticsearch.index.store.StoreFileMetaData-">checkIntegrityNoException</a></span>(<a href="../../../../org/elasticsearch/index/store/StoreFileMetaData.html" title="class in org.elasticsearch.index.store">StoreFileMetaData</a>&nbsp;md)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#checkIntegrityNoException-org.elasticsearch.index.store.StoreFileMetaData-org.apache.lucene.store.Directory-">checkIntegrityNoException</a></span>(<a href="../../../../org/elasticsearch/index/store/StoreFileMetaData.html" title="class in org.elasticsearch.index.store">StoreFileMetaData</a>&nbsp;md,
                         org.apache.lucene.store.Directory&nbsp;directory)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#cleanupAndVerify-java.lang.String-org.elasticsearch.index.store.Store.MetadataSnapshot-">cleanupAndVerify</a></span>(java.lang.String&nbsp;reason,
                <a href="../../../../org/elasticsearch/index/store/Store.MetadataSnapshot.html" title="class in org.elasticsearch.index.store">Store.MetadataSnapshot</a>&nbsp;sourceMetaData)</code>
<div class="block">This method deletes every file in this store that is not contained in the given source meta data or is a
 legacy checksum file.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#close--">close</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>org.apache.lucene.store.IndexOutput</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#createVerifyingOutput-java.lang.String-org.elasticsearch.index.store.StoreFileMetaData-org.apache.lucene.store.IOContext-">createVerifyingOutput</a></span>(java.lang.String&nbsp;fileName,
                     <a href="../../../../org/elasticsearch/index/store/StoreFileMetaData.html" title="class in org.elasticsearch.index.store">StoreFileMetaData</a>&nbsp;metadata,
                     org.apache.lucene.store.IOContext&nbsp;context)</code>
<div class="block">The returned IndexOutput might validate the files checksum if the file has been written with a newer lucene version
 and the metadata holds the necessary information to detect that it was been written by Lucene 4.8 or newer.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#decRef--">decRef</a></span>()</code>
<div class="block">Decreases the refCount of this Store instance.If the refCount drops to 0, then this
 store is closed.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#deleteQuiet-java.lang.String...-">deleteQuiet</a></span>(java.lang.String...&nbsp;files)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#digestToString-long-">digestToString</a></span>(long&nbsp;digest)</code>
<div class="block">Produces a string representation of the given digest value.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>org.apache.lucene.store.Directory</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#directory--">directory</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#failIfCorrupted--">failIfCorrupted</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/index/store/Store.MetadataSnapshot.html" title="class in org.elasticsearch.index.store">Store.MetadataSnapshot</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#getMetadata--">getMetadata</a></span>()</code>
<div class="block">Returns a new MetadataSnapshot for the latest commit in this store.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/index/store/Store.MetadataSnapshot.html" title="class in org.elasticsearch.index.store">Store.MetadataSnapshot</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#getMetadata-org.apache.lucene.index.IndexCommit-">getMetadata</a></span>(org.apache.lucene.index.IndexCommit&nbsp;commit)</code>
<div class="block">Returns a new MetadataSnapshot for the given commit.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/index/store/Store.MetadataSnapshot.html" title="class in org.elasticsearch.index.store">Store.MetadataSnapshot</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#getMetadataOrEmpty--">getMetadataOrEmpty</a></span>()</code>
<div class="block">Returns a new MetadataSnapshot for the latest commit in this store or
 an empty snapshot if no index exists or can not be opened.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#incRef--">incRef</a></span>()</code>
<div class="block">Increments the refCount of this Store instance.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#isAutogenerated-java.lang.String-">isAutogenerated</a></span>(java.lang.String&nbsp;name)</code>
<div class="block">Returns true if the file is auto-generated by the store and shouldn't be deleted during cleanup.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#isChecksum-java.lang.String-">isChecksum</a></span>(java.lang.String&nbsp;name)</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#isMarkedCorrupted--">isMarkedCorrupted</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#markStoreCorrupted-java.io.IOException-">markStoreCorrupted</a></span>(java.io.IOException&nbsp;exception)</code>
<div class="block">Marks this store as corrupted.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>org.apache.lucene.store.IndexInput</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#openVerifyingInput-java.lang.String-org.apache.lucene.store.IOContext-org.elasticsearch.index.store.StoreFileMetaData-">openVerifyingInput</a></span>(java.lang.String&nbsp;filename,
                  org.apache.lucene.store.IOContext&nbsp;context,
                  <a href="../../../../org/elasticsearch/index/store/StoreFileMetaData.html" title="class in org.elasticsearch.index.store">StoreFileMetaData</a>&nbsp;metadata)</code>&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>org.apache.lucene.index.SegmentInfos</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#readLastCommittedSegmentsInfo--">readLastCommittedSegmentsInfo</a></span>()</code>
<div class="block">Returns the last committed segments info for this store</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>static <a href="../../../../org/elasticsearch/index/store/Store.MetadataSnapshot.html" title="class in org.elasticsearch.index.store">Store.MetadataSnapshot</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#readMetadataSnapshot-java.nio.file.Path-org.elasticsearch.common.logging.ESLogger-">readMetadataSnapshot</a></span>(java.nio.file.Path&nbsp;indexLocation,
                    <a href="../../../../org/elasticsearch/common/logging/ESLogger.html" title="interface in org.elasticsearch.common.logging">ESLogger</a>&nbsp;logger)</code>
<div class="block">Reads a MetadataSnapshot from the given index locations or returns an empty snapshot if it can't be read.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#refCount--">refCount</a></span>()</code>
<div class="block">Returns the current reference count.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#removeCorruptionMarker--">removeCorruptionMarker</a></span>()</code>
<div class="block">Deletes all corruption markers from this store.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#renameFile-java.lang.String-java.lang.String-">renameFile</a></span>(java.lang.String&nbsp;from,
          java.lang.String&nbsp;to)</code>&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#renameTempFilesSafe-java.util.Map-">renameTempFilesSafe</a></span>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;tempFileMap)</code>
<div class="block">Renames all the given files form the key of the map to the
 value of the map.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/index/store/StoreStats.html" title="class in org.elasticsearch.index.store">StoreStats</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#stats--">stats</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#tryIncRef--">tryIncRef</a></span>()</code>
<div class="block">Tries to increment the refCount of this Store instance.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#tryOpenIndex-java.nio.file.Path-">tryOpenIndex</a></span>(java.nio.file.Path&nbsp;indexLocation)</code>
<div class="block">Tries to open an index for the given location.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#verify-org.apache.lucene.store.IndexInput-">verify</a></span>(org.apache.lucene.store.IndexInput&nbsp;input)</code>&nbsp;</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/store/Store.html#verify-org.apache.lucene.store.IndexOutput-">verify</a></span>(org.apache.lucene.store.IndexOutput&nbsp;output)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.elasticsearch.index.shard.AbstractIndexShardComponent">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.elasticsearch.index.shard.<a href="../../../../org/elasticsearch/index/shard/AbstractIndexShardComponent.html" title="class in org.elasticsearch.index.shard">AbstractIndexShardComponent</a></h3>
<code><a href="../../../../org/elasticsearch/index/shard/AbstractIndexShardComponent.html#indexSettings--">indexSettings</a>, <a href="../../../../org/elasticsearch/index/shard/AbstractIndexShardComponent.html#nodeName--">nodeName</a>, <a href="../../../../org/elasticsearch/index/shard/AbstractIndexShardComponent.html#shardId--">shardId</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="INDEX_STORE_STATS_REFRESH_INTERVAL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INDEX_STORE_STATS_REFRESH_INTERVAL</h4>
<pre>public static final&nbsp;java.lang.String INDEX_STORE_STATS_REFRESH_INTERVAL</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.elasticsearch.index.store.Store.INDEX_STORE_STATS_REFRESH_INTERVAL">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CHECKSUMS_PREFIX">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CHECKSUMS_PREFIX</h4>
<pre>public static final&nbsp;java.lang.String CHECKSUMS_PREFIX</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.elasticsearch.index.store.Store.CHECKSUMS_PREFIX">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Store-org.elasticsearch.index.shard.ShardId-org.elasticsearch.index.IndexSettings-org.elasticsearch.index.store.DirectoryService-org.elasticsearch.env.ShardLock-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Store</h4>
<pre>public&nbsp;Store(<a href="../../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId,
             <a href="../../../../org/elasticsearch/index/IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings,
             <a href="../../../../org/elasticsearch/index/store/DirectoryService.html" title="class in org.elasticsearch.index.store">DirectoryService</a>&nbsp;directoryService,
             <a href="../../../../org/elasticsearch/env/ShardLock.html" title="class in org.elasticsearch.env">ShardLock</a>&nbsp;shardLock)
      throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="Store-org.elasticsearch.index.shard.ShardId-org.elasticsearch.index.IndexSettings-org.elasticsearch.index.store.DirectoryService-org.elasticsearch.env.ShardLock-org.elasticsearch.index.store.Store.OnClose-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Store</h4>
<pre><a href="../../../../org/elasticsearch/common/inject/Inject.html" title="annotation in org.elasticsearch.common.inject">@Inject</a>
public&nbsp;Store(<a href="../../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId,
                     <a href="../../../../org/elasticsearch/index/IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings,
                     <a href="../../../../org/elasticsearch/index/store/DirectoryService.html" title="class in org.elasticsearch.index.store">DirectoryService</a>&nbsp;directoryService,
                     <a href="../../../../org/elasticsearch/env/ShardLock.html" title="class in org.elasticsearch.env">ShardLock</a>&nbsp;shardLock,
                     <a href="../../../../org/elasticsearch/index/store/Store.OnClose.html" title="interface in org.elasticsearch.index.store">Store.OnClose</a>&nbsp;onClose)
              throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="directory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>directory</h4>
<pre>public&nbsp;org.apache.lucene.store.Directory&nbsp;directory()</pre>
</li>
</ul>
<a name="readLastCommittedSegmentsInfo--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readLastCommittedSegmentsInfo</h4>
<pre>public&nbsp;org.apache.lucene.index.SegmentInfos&nbsp;readLastCommittedSegmentsInfo()
                                                                   throws java.io.IOException</pre>
<div class="block">Returns the last committed segments info for this store</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the index is corrupted or the segments file is not present</dd>
</dl>
</li>
</ul>
<a name="getMetadataOrEmpty--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetadataOrEmpty</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/index/store/Store.MetadataSnapshot.html" title="class in org.elasticsearch.index.store">Store.MetadataSnapshot</a>&nbsp;getMetadataOrEmpty()
                                          throws java.io.IOException</pre>
<div class="block">Returns a new MetadataSnapshot for the latest commit in this store or
 an empty snapshot if no index exists or can not be opened.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.lucene.index.CorruptIndexException</code> - if the lucene index is corrupted. This can be caused by a checksum mismatch or an
                                    unexpected exception when opening the index reading the segments file.</dd>
<dd><code>org.apache.lucene.index.IndexFormatTooOldException</code> - if the lucene index is too old to be opened.</dd>
<dd><code>org.apache.lucene.index.IndexFormatTooNewException</code> - if the lucene index is too new to be opened.</dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="getMetadata--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetadata</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/index/store/Store.MetadataSnapshot.html" title="class in org.elasticsearch.index.store">Store.MetadataSnapshot</a>&nbsp;getMetadata()
                                   throws java.io.IOException</pre>
<div class="block">Returns a new MetadataSnapshot for the latest commit in this store.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.lucene.index.CorruptIndexException</code> - if the lucene index is corrupted. This can be caused by a checksum mismatch or an
                                    unexpected exception when opening the index reading the segments file.</dd>
<dd><code>org.apache.lucene.index.IndexFormatTooOldException</code> - if the lucene index is too old to be opened.</dd>
<dd><code>org.apache.lucene.index.IndexFormatTooNewException</code> - if the lucene index is too new to be opened.</dd>
<dd><code>java.io.FileNotFoundException</code> - if one or more files referenced by a commit are not present.</dd>
<dd><code>java.nio.file.NoSuchFileException</code> - if one or more files referenced by a commit are not present.</dd>
<dd><code>org.apache.lucene.index.IndexNotFoundException</code> - if no index / valid commit-point can be found in this store</dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="getMetadata-org.apache.lucene.index.IndexCommit-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetadata</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/index/store/Store.MetadataSnapshot.html" title="class in org.elasticsearch.index.store">Store.MetadataSnapshot</a>&nbsp;getMetadata(org.apache.lucene.index.IndexCommit&nbsp;commit)
                                   throws java.io.IOException</pre>
<div class="block">Returns a new MetadataSnapshot for the given commit. If the given commit is <code>null</code>
 the latest commit point is used.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.lucene.index.CorruptIndexException</code> - if the lucene index is corrupted. This can be caused by a checksum mismatch or an
                                    unexpected exception when opening the index reading the segments file.</dd>
<dd><code>org.apache.lucene.index.IndexFormatTooOldException</code> - if the lucene index is too old to be opened.</dd>
<dd><code>org.apache.lucene.index.IndexFormatTooNewException</code> - if the lucene index is too new to be opened.</dd>
<dd><code>java.io.FileNotFoundException</code> - if one or more files referenced by a commit are not present.</dd>
<dd><code>java.nio.file.NoSuchFileException</code> - if one or more files referenced by a commit are not present.</dd>
<dd><code>org.apache.lucene.index.IndexNotFoundException</code> - if the commit point can't be found in this store</dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="renameTempFilesSafe-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>renameTempFilesSafe</h4>
<pre>public&nbsp;void&nbsp;renameTempFilesSafe(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;tempFileMap)
                         throws java.io.IOException</pre>
<div class="block">Renames all the given files form the key of the map to the
 value of the map. All successfully renamed files are removed from the map in-place.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="stats--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stats</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/index/store/StoreStats.html" title="class in org.elasticsearch.index.store">StoreStats</a>&nbsp;stats()
                 throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="renameFile-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>renameFile</h4>
<pre>public&nbsp;void&nbsp;renameFile(java.lang.String&nbsp;from,
                       java.lang.String&nbsp;to)
                throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="incRef--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>incRef</h4>
<pre>public final&nbsp;void&nbsp;incRef()</pre>
<div class="block">Increments the refCount of this Store instance.  RefCounts are used to determine when a
 Store can be closed safely, i.e. as soon as there are no more references. Be sure to always call a
 corresponding <a href="../../../../org/elasticsearch/index/store/Store.html#decRef--"><code>decRef()</code></a>, in a finally clause; otherwise the store may never be closed.  Note that
 <a href="../../../../org/elasticsearch/index/store/Store.html#close--"><code>close()</code></a> simply calls decRef(), which means that the Store will not really be closed until <a href="../../../../org/elasticsearch/index/store/Store.html#decRef--"><code>decRef()</code></a> has been called for all outstanding references.
 <p>
 Note: Close can safely be called multiple times.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/elasticsearch/common/util/concurrent/RefCounted.html#incRef--">incRef</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/elasticsearch/common/util/concurrent/RefCounted.html" title="interface in org.elasticsearch.common.util.concurrent">RefCounted</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.lucene.store.AlreadyClosedException</code> - iff the reference counter can not be incremented.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/elasticsearch/index/store/Store.html#decRef--"><code>decRef()</code></a>, 
<a href="../../../../org/elasticsearch/index/store/Store.html#tryIncRef--"><code>tryIncRef()</code></a></dd>
</dl>
</li>
</ul>
<a name="tryIncRef--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryIncRef</h4>
<pre>public final&nbsp;boolean&nbsp;tryIncRef()</pre>
<div class="block">Tries to increment the refCount of this Store instance. This method will return <tt>true</tt> iff the refCount was
 incremented successfully otherwise <tt>false</tt>. RefCounts are used to determine when a
 Store can be closed safely, i.e. as soon as there are no more references. Be sure to always call a
 corresponding <a href="../../../../org/elasticsearch/index/store/Store.html#decRef--"><code>decRef()</code></a>, in a finally clause; otherwise the store may never be closed.  Note that
 <a href="../../../../org/elasticsearch/index/store/Store.html#close--"><code>close()</code></a> simply calls decRef(), which means that the Store will not really be closed until <a href="../../../../org/elasticsearch/index/store/Store.html#decRef--"><code>decRef()</code></a> has been called for all outstanding references.
 <p>
 Note: Close can safely be called multiple times.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/elasticsearch/common/util/concurrent/RefCounted.html#tryIncRef--">tryIncRef</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/elasticsearch/common/util/concurrent/RefCounted.html" title="interface in org.elasticsearch.common.util.concurrent">RefCounted</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/elasticsearch/index/store/Store.html#decRef--"><code>decRef()</code></a>, 
<a href="../../../../org/elasticsearch/index/store/Store.html#incRef--"><code>incRef()</code></a></dd>
</dl>
</li>
</ul>
<a name="decRef--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decRef</h4>
<pre>public final&nbsp;void&nbsp;decRef()</pre>
<div class="block">Decreases the refCount of this Store instance.If the refCount drops to 0, then this
 store is closed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/elasticsearch/common/util/concurrent/RefCounted.html#decRef--">decRef</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/elasticsearch/common/util/concurrent/RefCounted.html" title="interface in org.elasticsearch.common.util.concurrent">RefCounted</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/elasticsearch/index/store/Store.html#incRef--"><code>incRef()</code></a></dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.io.Closeable</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
</dl>
</li>
</ul>
<a name="readMetadataSnapshot-java.nio.file.Path-org.elasticsearch.common.logging.ESLogger-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readMetadataSnapshot</h4>
<pre>public static&nbsp;<a href="../../../../org/elasticsearch/index/store/Store.MetadataSnapshot.html" title="class in org.elasticsearch.index.store">Store.MetadataSnapshot</a>&nbsp;readMetadataSnapshot(java.nio.file.Path&nbsp;indexLocation,
                                                          <a href="../../../../org/elasticsearch/common/logging/ESLogger.html" title="interface in org.elasticsearch.common.logging">ESLogger</a>&nbsp;logger)
                                                   throws java.io.IOException</pre>
<div class="block">Reads a MetadataSnapshot from the given index locations or returns an empty snapshot if it can't be read.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the index we try to read is corrupted</dd>
</dl>
</li>
</ul>
<a name="canOpenIndex-org.elasticsearch.common.logging.ESLogger-java.nio.file.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canOpenIndex</h4>
<pre>public static&nbsp;boolean&nbsp;canOpenIndex(<a href="../../../../org/elasticsearch/common/logging/ESLogger.html" title="interface in org.elasticsearch.common.logging">ESLogger</a>&nbsp;logger,
                                   java.nio.file.Path&nbsp;indexLocation)
                            throws java.io.IOException</pre>
<div class="block">Returns <code>true</code> iff the given location contains an index an the index
 can be successfully opened. This includes reading the segment infos and possible
 corruption markers.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="tryOpenIndex-java.nio.file.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryOpenIndex</h4>
<pre>public static&nbsp;void&nbsp;tryOpenIndex(java.nio.file.Path&nbsp;indexLocation)
                         throws java.io.IOException</pre>
<div class="block">Tries to open an index for the given location. This includes reading the
 segment infos and possible corruption markers. If the index can not
 be opened, an exception is thrown</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="createVerifyingOutput-java.lang.String-org.elasticsearch.index.store.StoreFileMetaData-org.apache.lucene.store.IOContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createVerifyingOutput</h4>
<pre>public&nbsp;org.apache.lucene.store.IndexOutput&nbsp;createVerifyingOutput(java.lang.String&nbsp;fileName,
                                                                 <a href="../../../../org/elasticsearch/index/store/StoreFileMetaData.html" title="class in org.elasticsearch.index.store">StoreFileMetaData</a>&nbsp;metadata,
                                                                 org.apache.lucene.store.IOContext&nbsp;context)
                                                          throws java.io.IOException</pre>
<div class="block">The returned IndexOutput might validate the files checksum if the file has been written with a newer lucene version
 and the metadata holds the necessary information to detect that it was been written by Lucene 4.8 or newer. If it has only
 a legacy checksum, returned IndexOutput will not verify the checksum.
 <p>
 Note: Checksums are calculated nevertheless since lucene does it by default sicne version 4.8.0. This method only adds the
 verification against the checksum in the given metadata and does not add any significant overhead.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="verify-org.apache.lucene.store.IndexOutput-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verify</h4>
<pre>public static&nbsp;void&nbsp;verify(org.apache.lucene.store.IndexOutput&nbsp;output)
                   throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="openVerifyingInput-java.lang.String-org.apache.lucene.store.IOContext-org.elasticsearch.index.store.StoreFileMetaData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openVerifyingInput</h4>
<pre>public&nbsp;org.apache.lucene.store.IndexInput&nbsp;openVerifyingInput(java.lang.String&nbsp;filename,
                                                             org.apache.lucene.store.IOContext&nbsp;context,
                                                             <a href="../../../../org/elasticsearch/index/store/StoreFileMetaData.html" title="class in org.elasticsearch.index.store">StoreFileMetaData</a>&nbsp;metadata)
                                                      throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="verify-org.apache.lucene.store.IndexInput-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verify</h4>
<pre>public static&nbsp;void&nbsp;verify(org.apache.lucene.store.IndexInput&nbsp;input)
                   throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="checkIntegrityNoException-org.elasticsearch.index.store.StoreFileMetaData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkIntegrityNoException</h4>
<pre>public&nbsp;boolean&nbsp;checkIntegrityNoException(<a href="../../../../org/elasticsearch/index/store/StoreFileMetaData.html" title="class in org.elasticsearch.index.store">StoreFileMetaData</a>&nbsp;md)</pre>
</li>
</ul>
<a name="checkIntegrityNoException-org.elasticsearch.index.store.StoreFileMetaData-org.apache.lucene.store.Directory-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkIntegrityNoException</h4>
<pre>public static&nbsp;boolean&nbsp;checkIntegrityNoException(<a href="../../../../org/elasticsearch/index/store/StoreFileMetaData.html" title="class in org.elasticsearch.index.store">StoreFileMetaData</a>&nbsp;md,
                                                org.apache.lucene.store.Directory&nbsp;directory)</pre>
</li>
</ul>
<a name="checkIntegrity-org.elasticsearch.index.store.StoreFileMetaData-org.apache.lucene.store.Directory-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkIntegrity</h4>
<pre>public static&nbsp;void&nbsp;checkIntegrity(<a href="../../../../org/elasticsearch/index/store/StoreFileMetaData.html" title="class in org.elasticsearch.index.store">StoreFileMetaData</a>&nbsp;md,
                                  org.apache.lucene.store.Directory&nbsp;directory)
                           throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="isMarkedCorrupted--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMarkedCorrupted</h4>
<pre>public&nbsp;boolean&nbsp;isMarkedCorrupted()
                          throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="removeCorruptionMarker--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeCorruptionMarker</h4>
<pre>public&nbsp;void&nbsp;removeCorruptionMarker()
                            throws java.io.IOException</pre>
<div class="block">Deletes all corruption markers from this store.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="failIfCorrupted--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failIfCorrupted</h4>
<pre>public&nbsp;void&nbsp;failIfCorrupted()
                     throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="cleanupAndVerify-java.lang.String-org.elasticsearch.index.store.Store.MetadataSnapshot-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanupAndVerify</h4>
<pre>public&nbsp;void&nbsp;cleanupAndVerify(java.lang.String&nbsp;reason,
                             <a href="../../../../org/elasticsearch/index/store/Store.MetadataSnapshot.html" title="class in org.elasticsearch.index.store">Store.MetadataSnapshot</a>&nbsp;sourceMetaData)
                      throws java.io.IOException</pre>
<div class="block">This method deletes every file in this store that is not contained in the given source meta data or is a
 legacy checksum file. After the delete it pulls the latest metadata snapshot from the store and compares it
 to the given snapshot. If the snapshots are inconsistent an illegal state exception is thrown</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reason</code> - the reason for this cleanup operation logged for each deleted file</dd>
<dd><code>sourceMetaData</code> - the metadata used for cleanup. all files in this metadata should be kept around.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an IOException occurs</dd>
<dd><code>java.lang.IllegalStateException</code> - if the latest snapshot in this store differs from the given one after the cleanup.</dd>
</dl>
</li>
</ul>
<a name="refCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refCount</h4>
<pre>public&nbsp;int&nbsp;refCount()</pre>
<div class="block">Returns the current reference count.</div>
</li>
</ul>
<a name="isChecksum-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isChecksum</h4>
<pre>public static&nbsp;boolean&nbsp;isChecksum(java.lang.String&nbsp;name)</pre>
</li>
</ul>
<a name="isAutogenerated-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAutogenerated</h4>
<pre>public static&nbsp;boolean&nbsp;isAutogenerated(java.lang.String&nbsp;name)</pre>
<div class="block">Returns true if the file is auto-generated by the store and shouldn't be deleted during cleanup.
 This includes write lock and checksum files</div>
</li>
</ul>
<a name="digestToString-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>digestToString</h4>
<pre>public static&nbsp;java.lang.String&nbsp;digestToString(long&nbsp;digest)</pre>
<div class="block">Produces a string representation of the given digest value.</div>
</li>
</ul>
<a name="deleteQuiet-java.lang.String...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteQuiet</h4>
<pre>public&nbsp;void&nbsp;deleteQuiet(java.lang.String...&nbsp;files)</pre>
</li>
</ul>
<a name="markStoreCorrupted-java.io.IOException-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>markStoreCorrupted</h4>
<pre>public&nbsp;void&nbsp;markStoreCorrupted(java.io.IOException&nbsp;exception)
                        throws java.io.IOException</pre>
<div class="block">Marks this store as corrupted. This method writes a <tt>corrupted_${uuid}</tt> file containing the given exception
 message. If a store contains a <tt>corrupted_${uuid}</tt> file <a href="../../../../org/elasticsearch/index/store/Store.html#isMarkedCorrupted--"><code>isMarkedCorrupted()</code></a> will return <code>true</code>.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/elasticsearch/index/store/IndexStoreConfig.html" title="class in org.elasticsearch.index.store"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/elasticsearch/index/store/Store.LegacyChecksums.html" title="class in org.elasticsearch.index.store"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/elasticsearch/index/store/Store.html" target="_top">Frames</a></li>
<li><a href="Store.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
